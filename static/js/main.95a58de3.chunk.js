(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(23),o=a.n(r),s=(a(29),a(13)),i=a(6),u=a.n(i),l=a(11),b=a(4),j=a(1),m=function(e){var t=e.listImage,a=e.onImgClick;return Object(j.jsx)("li",{children:Object(j.jsx)("img",{onClick:function(){return a(t.largeImageURL,t.tags)},src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"})})},h=function(e){var t=e.listImages,a=e.onImgClick;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(j.jsx)(m,{listImage:e,onImgClick:a},e.id)}))})},p=a(12),d=a.n(p);d.a.defaults.baseURL="https://pixabay.com/api";var O=function(e){var t=e.query,a=e.page;return d.a.get("?q=".concat(t,"&page=").concat(a,"&key=23400298-f5ccb6ec4bc6d2911c7e89aba&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return console.log(e),e.data.hits}))},f=a(14),g={type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"},v=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(b.a)(a,2),r=n[0],o=n[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",Object(f.a)(Object(f.a)({},g),{},{onChange:function(e){o(e.target.value)},value:r,className:"SearchForm-input"}))]})})},x=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load More"})},k=a(24),w=a.n(k),S=function(){return Object(j.jsx)(w.a,{type:"Puff",color:"#00BFFF",height:100,width:100,className:"loader"})},y=function(e){var t=e.largeImageURL,a=e.tags,n=e.closeModal,r=Object(c.useCallback)((function(e){"Escape"===e.code&&n()}),[n]),o=function(e){e.target===e.currentTarget&&n()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[r]),Object(j.jsx)("div",{className:"Overlay",onClick:o,children:Object(j.jsx)("div",{className:"Modal",onClick:o,children:Object(j.jsx)("img",{src:t,alt:a,className:"modal-img"})})})},I=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(b.a)(r,2),i=o[0],m=o[1],p=Object(c.useState)(1),d=Object(b.a)(p,2),f=d[0],g=d[1],k=Object(c.useState)(!1),w=Object(b.a)(k,2),I=w[0],C=w[1],N=Object(c.useState)(!1),F=Object(b.a)(N,2),L=F[0],E=F[1],M=Object(c.useState)(""),R=Object(b.a)(M,2),U=R[0],q=R[1],B=Object(c.useState)(""),T=Object(b.a)(B,2),G=T[0],H=T[1],J=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),g(1),C(!0),e.prev=3,e.next=6,O({query:t,page:1});case 6:a=e.sent,n(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.prev=12,C(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[3,10,12,16]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,O({query:i,page:f+1});case 4:t=e.sent,g((function(e){return e+1})),n((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,C(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[1,9,11,15]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(v,{onSubmit:J}),Object(j.jsx)(h,{listImages:a,onImgClick:function(e,t){E(!0),q(e),H(t)}}),a.length>0&&Object(j.jsx)(x,{onClick:_}),I&&Object(j.jsx)(S,{}),L&&Object(j.jsx)(y,{closeModal:function(){E(!1)},largeImageURL:U,tags:G})]})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.95a58de3.chunk.js.map